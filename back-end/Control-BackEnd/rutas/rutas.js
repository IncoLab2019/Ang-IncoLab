/* Este apartado se hace para que en el archivo conexiones.js no se haga muy grande
ademas para usar el  goExpress.Router() */
const goExpress = require('express'); //require es similar a un import
const goRouter = goExpress.Router();  //funciona para un direccionamiento completo

const jwt = require('jsonwebtoken');

// Creo una nueva constante para llamar o utilizar los controladores
const controladorProducto = require('../controladores/conProducto');
const controladorSucursal = require('../controladores/conSucursal');
const controladorTabla = require('../controladores/conTabla');
const controladorUsuario = require('../controladores/conUsuario');
const controladorProveedor = require('../controladores/conProveedor');
const controladorCategoria = require('../controladores/conCategoria');
const controladorSeguridad = require('../controladores/conSeguridad');
const controladorPresentacion = require('../controladores/conPresentacion');
const controladorReportes = require('../controladores/conReportes');


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////// MODULO PRODUCTO /////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/* Guarda los productos que se ingresan nuevos. */
goRouter.post('/inicio/ingreso_manual', controladorProducto.ingresoProductoManual);

/* Cuando se modifican los datos este los actualiza. */
goRouter.put('/inicio/editar', controladorProducto.modificarProductoManual);

/* Desactiva productos. */
goRouter.get('/inicio/desactivar/:id' , controladorProducto.desactivarProducto);

/* activa productos. */
goRouter.get('/inicio/reactivar/:id' , controladorProducto.reactivarProducto);

/* Obtiene los datos por defecto para el formulario de producto. */
goRouter.get('/inicio/ingreso_manual', controladorProducto.obtenerDatosPorDefecto);

/* Obtiene los datos del producto que se quiere modificar. */
goRouter.get('/inicio/editar/:id', controladorProducto.obtenerDatosDeProductoModificar);

/* Muestra los datos principales de cada producto en la tabla por vencer. */
goRouter.get('/inicio/tablaProdVen', controladorTabla.mostrarTablaProductosVencer);

/* Muestra los datos principales de cada producto en la tabla por acabar. */
goRouter.get('/inicio/tablaProdAca', controladorTabla.mostrarTablaProductosAcabar);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////// MODULO TABLA //////////// ///////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/* Muestra los datos principales de cada producto en la tabla. */
goRouter.get('/inicio/tabla', controladorTabla.mostrarTabla);

/* Muestra los datos principales de cada producto en la tabla. */
goRouter.get('/inicio/tablaProdIn', controladorTabla.mostrarTablaProductosInactivos);

/* Permite la edicion de los productos mediante las casillas principales que tiene la tabla. */
goRouter.put('/inicio/editar_tabla', controladorTabla.modificarTabla);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////// MODULO DE USUARIOS //////////// ///////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/* Guarda los usuarios que se ingresan nuevos. */
goRouter.post('/inicio/ingresousuarios', controladorUsuario.ingresoUsuario);

/* Muestra los datos principales de cada usuario inactivo en la tabla. */
goRouter.get('/inicio/tablaUserIn', controladorTabla.mostrarTablaUsuariosInactivos);

/* activa usuarios. */
goRouter.get('/inicio/reactivarUsuario/:id' , controladorUsuario.reactivarUsuario);

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////// MODULO DE PROVEEDORES /////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/* Guarda los proveedores que se ingresan nuevos. */
goRouter.post('/inicio/ingresosproveedores', controladorProveedor.ingresoProveedor);

/* Muestra los datos principales de cada proveedor en la tabla. */
goRouter.get('/inicio/tablaProvIn', controladorTabla.mostrarTablaProveedoresInactivos);

/* activa productos. */
goRouter.get('/inicio/reactivarProveedor/:id' , controladorProveedor.reactivarProveedor);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////// MODULO SUCURSALES //////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/* Guarda las sucursales que se ingresan nuevos. */
goRouter.post('/inicio/ingresosucursales',  controladorSucursal.ingresoSucursal);

/* Muestra los datos principales de cada producto en la tabla. */
goRouter.get('/inicio/tablaSucurIn', controladorTabla.mostrarTablaSucursalesInactivas);

/* activa productos. */
goRouter.get('/inicio/reactivarSucursal/:id' , controladorSucursal.reactivarSucursal);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////// MODULO CATEGORIA ////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/* Guarda los productos que se ingresan nuevos. */
goRouter.post('/inicio/ingreso_categoria', controladorCategoria.ingresoCategoria);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////// MODULO PRESENTACION /////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/* Guarda los productos que se ingresan nuevos. */
goRouter.post('/inicio/ingreso_presentacion', controladorPresentacion.ingresoPresentacion);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////// MODULO SEGURIDAD //////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
goRouter.post('/auth/login', controladorSeguridad.prueba);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////// MODULO REPORTES //////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
goRouter.get('/inicio/graficoses', controladorReportes.obtenerGraficos);

goRouter.get('/inicio/graficos/precio/general/:id', controladorReportes.obtGraPreGeneral);

goRouter.get('/inicio/graficos/precio/filtrado/:id/:primerMes/:primerAnio/:segundoMes/:segundoAnio', controladorReportes.obtGraPreFiltrado);

goRouter.get('/inicio/graficos/cantidades/general/:id', controladorReportes.obtGraUsoGeneral);

goRouter.get('/inicio/graficos/cantidades/filtrado/:id/:primerMes/:primerAnio/:segundoMes/:segundoAnio', controladorReportes.obtGraUsoFiltrado);

goRouter.get('/inicio/listado/productos', controladorProducto.obtenerListaProductos);

module.exports = goRouter;

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////// MODULO REPORTES /////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/* extrae los datos para generar los reportes */
goRouter.get('/inicio/reportes', controladorReportes.obtenerDatosReporte);
